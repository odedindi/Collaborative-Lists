name = "collab-lists-worker"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[durable_objects]
bindings = [
  { name = "SHOPPING_LIST", class_name = "ListDO" }
]

[[migrations]]
tag = "v1"
new_classes = ["ListDO"]

[[kv_namespaces]]
binding = "LISTS_INDEX"
id = "YOUR_KV_NAMESPACE_ID"

# Set these via `wrangler secret put`:
# MAGIC_LINK_SECRET
# APP_SECRET
# ALLOWED_EMAILS
# FRONTEND_URL

[vars]
FRONTEND_URL = "https://your-app.pages.dev"
